[
  {
    "category": "Security",
    "description": "Potential security risk with hardcoded API keys.",
    "impact": "critical",
    "rationale": "Hardcoding sensitive information like API keys can lead to security vulnerabilities if the code is exposed. It is essential to use environment variables or secure vaults.",
    "recommendation": "Replace hardcoded API keys with environment variables and ensure they are not included in version control.",
    "current_code": "\"api_key\": \"os.environ/AZURE_API_KEY\",",
    "suggested_code": "\"api_key\": os.getenv('AZURE_API_KEY'),",
    "file_path": "config.json",
    "start_line": 13,
    "end_line": 13,
    "sentiment": "negative",
    "severity": 10
  },
  {
    "category": "Security",
    "description": "Potential SQL injection risk in dynamic queries.",
    "impact": "critical",
    "rationale": "The use of string interpolation in SQL queries can expose the application to SQL injection attacks. Although parameterized queries are used in some places, there are instances where string interpolation is still present.",
    "recommendation": "Always use parameterized queries instead of string interpolation to prevent SQL injection vulnerabilities.",
    "current_code": "query = text(f\"SELECT ... WHERE node_content LIKE '%{caller}%' \")",
    "suggested_code": "query = text(\"SELECT ... WHERE node_content LIKE :caller\").bindparams(caller=f'%{caller}%')",
    "file_path": "kaizen/retriever/llama_index_retriever.py",
    "start_line": 303,
    "end_line": 303,
    "sentiment": "negative",
    "severity": 9
  },
  {
    "category": "Configuration",
    "description": "Changes made to sensitive file",
    "impact": "critical",
    "recommendation": "Changes were made to config.json, which needs review",
    "current_code": "NA",
    "fixed_code": "",
    "start_line": "4",
    "end_line": "4",
    "side": "RIGHT",
    "file_path": "config.json",
    "sentiment": "negative",
    "severity": 10
  },
  {
    "category": "Docker",
    "description": "Changes made to sensitive file",
    "impact": "critical",
    "recommendation": "Changes were made to Dockerfile, which needs review",
    "current_code": "NA",
    "fixed_code": "",
    "start_line": "4",
    "end_line": "4",
    "side": "RIGHT",
    "file_path": "Dockerfile",
    "sentiment": "negative",
    "severity": 10
  },
  {
    "category": "Docker",
    "description": "Changes made to sensitive file",
    "impact": "critical",
    "recommendation": "Changes were made to docker-compose.yml, which needs review",
    "current_code": "NA",
    "fixed_code": "",
    "start_line": "15",
    "end_line": "15",
    "side": "RIGHT",
    "file_path": "docker-compose.yml",
    "sentiment": "negative",
    "severity": 10
  },
  {
    "category": "Version Control",
    "description": "Changes made to sensitive file",
    "impact": "critical",
    "recommendation": "Changes were made to .gitignore, which needs review",
    "current_code": "NA",
    "fixed_code": "",
    "start_line": "164",
    "end_line": "164",
    "side": "RIGHT",
    "file_path": ".gitignore",
    "sentiment": "negative",
    "severity": 10
  },
  {
    "category": "Database",
    "description": "Changes made to sensitive file",
    "impact": "critical",
    "recommendation": "Changes were made to db_setup/init.sql, which needs review",
    "current_code": "NA",
    "fixed_code": "",
    "start_line": "1",
    "end_line": "1",
    "side": "RIGHT",
    "file_path": "db_setup/init.sql",
    "sentiment": "negative",
    "severity": 10
  }
]