[
  {
    "topic": "Environment Variables",
    "comment": "Using 'os.environ' directly in JSON is not valid.",
    "confidence": "critical",
    "reason": "Environment variables should be accessed in the code, not hardcoded in configuration files.",
    "solution": "Use a placeholder or variable in the code to fetch environment variables.",
    "actual_code": "                    \"api_key\": \"os.environ/AZURE_API_KEY\",",
    "fixed_code": "                    \"api_key\": \"AZURE_API_KEY\",  // Access this in the code",
    "file_name": "config.json",
    "start_line": 13,
    "end_line": 13,
    "side": "LEFT",
    "sentiment": "negative",
    "severity_level": 8
  },
  {
    "topic": "Error Handling",
    "comment": "Lack of error handling in database operations.",
    "confidence": "critical",
    "reason": "Database operations can fail due to various reasons (e.g., connection issues, SQL errors). Without error handling, the application may crash or behave unexpectedly.",
    "solution": "Wrap database operations in try-except blocks to handle potential exceptions gracefully.",
    "actual_code": "41   +1:[+]                 cur.execute(query, (query_embedding_normalized.tolist(), repo_id, similarity_top_k))",
    "fixed_code": "41   +1:[+]                 try:\n41.1   +1:[+]                     cur.execute(query, (query_embedding_normalized.tolist(), repo_id, similarity_top_k))\n41.2   +1:[+]                 except Exception as e:\n41.3   +1:[+]                     # Handle the exception (e.g., log it, raise a custom error, etc.)\n41.4   +1:[+]                     raise RuntimeError('Database query failed') from e",
    "file_name": "kaizen/retriever/custom_vector_store.py",
    "start_line": 39,
    "end_line": 41,
    "side": "LEFT",
    "sentiment": "negative",
    "severity_level": 9
  },
  {
    "topic": "Configuration",
    "comment": "Changes made to sensitive file",
    "confidence": "critical",
    "reason": "Changes were made to config.json, which needs review",
    "solution": "NA",
    "fixed_code": "",
    "start_line": "4",
    "end_line": "4",
    "side": "RIGHT",
    "file_name": "config.json",
    "sentiment": "negative",
    "severity_level": 10
  },
  {
    "topic": "Docker",
    "comment": "Changes made to sensitive file",
    "confidence": "critical",
    "reason": "Changes were made to Dockerfile, which needs review",
    "solution": "NA",
    "fixed_code": "",
    "start_line": "4",
    "end_line": "4",
    "side": "RIGHT",
    "file_name": "Dockerfile",
    "sentiment": "negative",
    "severity_level": 10
  },
  {
    "topic": "Docker",
    "comment": "Changes made to sensitive file",
    "confidence": "critical",
    "reason": "Changes were made to docker-compose.yml, which needs review",
    "solution": "NA",
    "fixed_code": "",
    "start_line": "15",
    "end_line": "15",
    "side": "RIGHT",
    "file_name": "docker-compose.yml",
    "sentiment": "negative",
    "severity_level": 10
  },
  {
    "topic": "Version Control",
    "comment": "Changes made to sensitive file",
    "confidence": "critical",
    "reason": "Changes were made to .gitignore, which needs review",
    "solution": "NA",
    "fixed_code": "",
    "start_line": "164",
    "end_line": "164",
    "side": "RIGHT",
    "file_name": ".gitignore",
    "sentiment": "negative",
    "severity_level": 10
  },
  {
    "topic": "Database",
    "comment": "Changes made to sensitive file",
    "confidence": "critical",
    "reason": "Changes were made to db_setup/init.sql, which needs review",
    "solution": "NA",
    "fixed_code": "",
    "start_line": "1",
    "end_line": "1",
    "side": "RIGHT",
    "file_name": "db_setup/init.sql",
    "sentiment": "negative",
    "severity_level": 10
  }
]